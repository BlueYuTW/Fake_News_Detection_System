!pragma charset UTF-8

@startuml ActivityDiagram_Web_URL_Check
!theme vibrant

title 事實查核系統 - 網頁 URL 查核活動圖

|網頁前端|
start
:使用者輸入 URL 並提交;
:前端透過 AJAX 發送請求;

|後端 (api.php)|
:接收到 URL 查核請求;

:查詢資料庫 (熱門查詢);
if (資料庫已有快取結果？) then (yes)
  :直接讀取快取結果;
else (no)
  :呼叫 Google Web Risk API;
  :接收 API 回傳的風險報告;
  if (偵測到風險？) then (yes)
    :標記為「高風險」;
  else (no)
    :標記為「安全」;
  endif
  :將新結果寫入資料庫快取;
endif

:產生最終的 JSON 回應;
:回傳 JSON 給前端;

|網頁前端|
:接收後端回應;
:在介面上顯示查核結果;
stop

@enduml